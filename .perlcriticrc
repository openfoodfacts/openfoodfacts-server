# set severity to 1, allowing for everything, then explicitly allow with only
severity        = 1
color           = 1
only 		= 1


# severity 5:
[BuiltinFunctions::ProhibitSleepViaSelect]
[BuiltinFunctions::ProhibitStringyEval]
[BuiltinFunctions::RequireGlobFunction]
[ClassHierarchies::ProhibitOneArgBless]
[ControlStructures::ProhibitMutatingListFunctions]
[InputOutput::ProhibitBarewordFileHandles]
[InputOutput::ProhibitInteractiveTest]
[InputOutput::ProhibitTwoArgOpen]
[InputOutput::RequireEncodingWithUTF8Layer]
[Modules::ProhibitEvilModules]
[Modules::RequireBarewordIncludes]

[-Modules::RequireFilenameMatchesPackage]

[Subroutines::ProhibitExplicitReturnUndef]
[Subroutines::ProhibitNestedSubs]
[Subroutines::ProhibitReturnSort]

# This can be included soon now that https://github.com/openfoodfacts/openfoodfacts-server/pull/7009 is merged
[-Subroutines::ProhibitSubroutinePrototypes]

[TestingAndDebugging::ProhibitNoStrict]
[TestingAndDebugging::RequireUseStrict]
equivalent_modules = Modern::Perl # remove this when all updated to ProductOpener::PerlStandards
equivalent_modules = ProductOpener::PerlStandards

[ValuesAndExpressions::ProhibitLeadingZeros]
[Variables::ProhibitConditionalDeclarations]
[Variables::RequireLexicalLoopIterators]
# /end severity 5


# severity 4 was not actually being run because severity was set to 5.
# severity 4
[TestingAndDebugging::RequireUseWarnings]
equivalent_modules = Modern::Perl
equivalent_modules = ProductOpener::PerlStandards
[Subroutines::RequireFinalReturn]

[BuiltinFunctions::RequireBlockMap]
[BuiltinFunctions::RequireBlockGrep]

# Allow `$`', `$&', `$'', because since Perl 5.20.0
# there are no performance implications any more.
[-Variables::ProhibitMatchVars]
# /end severity 4


# severity 3
[ControlStructures::ProhibitDeepNests]
max_nests = 12
[ControlStructures::ProhibitCascadingIfElse]
max_elsif = 13
[Variables::ProhibitUnusedVariables]
# /end severity 3


# severity 1
[Documentation::PodSpelling]
stop_words = JSON JS ecoscore api param json jsonp xml url TODO TAGID Nutri barcode Folksonomy mongoDB OpenFoodFacts eval CSV UTF FILEHANDLE STDOUT iso GeoIP geolocation ip eg po gettext Crowdin hashref https http submodules Config submodule lc lang barcodes packagings HARDCODED hardcoded hashrefs scrypt Scrypt md IPs csv ssconvert openfoodfacts couvercle métal FSC Française VPF viande de porc française Porc Français Origine français Pâtes aromatisées fraise canneberge l'acérola Ingrédients Pulpe poire sucre sirop blé céléri GDSN Equadis CodeOnline nodejs gtin csv CIN CIC NGO EREN PNNS et Santé matche undef NaN kcal AGS saturés barquette de CIQUAL AgriBalyse LCA EPI nutriscore msgctxt userid UUID appid uuid FZF RTFSG openfoodfacts subfield Nutriscore Santé publique kJ colza Valeur EXIF PNG incrontab gif jpeg jpf png heic Tesseract Robotoff jpg tesseract sprintf nutri Nutri www formatter ur Storable uncharacterized Agribalyse malus Canonicalizes canonicalized Programme Envol GSDN Carrefour multiline Multiline backticks scanbot taxonomize taxonomized gnumeric sto tagid canonicalize str Lowercased stopwords greated rescale overriden contenant maltodextrine vitamines stabilisant glycérol gélifiant pectine acidifiant acide citrique arôme naturel poudre d'acérola acérola Fabriqué dans un utilisant Allergènes flavouring flavourings dont Catalogue
# /end severity 1
