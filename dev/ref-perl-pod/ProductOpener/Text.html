<html><head><title>ProductOpener::Text</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="simple.min" type="text/css" href="../simple.min.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.43,
  using Pod::Simple::PullParser v3.43,
  under Perl v5.038002 at Tue Oct  7 07:45:32 2025 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#FUNCTIONS'>FUNCTIONS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#normalize_percentages(_TEXT%2C_LOCALE_)'>normalize_percentages( TEXT, LOCALE )</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Arguments'>Arguments</a>
      <li class='indexItem indexItem3'><a href='#Return_values'>Return values</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#get_decimal_formatter(_LOCALE_)'>get_decimal_formatter( LOCALE )</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Arguments'>Arguments</a>
      <li class='indexItem indexItem3'><a href='#Return_values'>Return values</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#escape_char(_%24s%2C_%24char_)'>escape_char( $s, $char )</a>
    <li class='indexItem indexItem2'><a href='#escape_single_quote_and_newlines(_%24s_)'>escape_single_quote_and_newlines( $s )</a>
    <li class='indexItem indexItem2'><a href='#get_percent_formatter(_LOCALE%2C_MAXIMUM_FRACTION_DIGITS_)'>get_percent_formatter( LOCALE, MAXIMUM_FRACTION_DIGITS )</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Arguments'>Arguments</a>
      <li class='indexItem indexItem3'><a href='#Return_values'>Return values</a>
    </ul>
  </ul>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>ProductOpener::Text - formats decimal numbers and percentages according to locale.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<p><code>ProductOpener::Text</code> is used to format decimal numbers and percentages according to locale.</p>

<pre>        use ProductOpener::Text qw/:all/;
        
        my $decf = get_decimal_formatter($lc);
        my $perf = get_percent_formatter($lc, 0);
        $salt = $decf-&#62;format(g_to_unit($salt, $unit));
        $percent = $perf-&#62;format($percent / 100.0);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The module implements decimal formatting, percent formatting and normalization of percentages on the basis of locale. Different languages can have different representation for decimal sign and can have different positions for the placement of percent in a value. The decimal sign could be a &#39;.&#39; (most languages), or it could be a &#39;,&#39; (de - DECIMAL POINT IS COMMA ;-)</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="FUNCTIONS"
>FUNCTIONS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="normalize_percentages(_TEXT,_LOCALE_)"
>normalize_percentages( TEXT, LOCALE )</a></h2>

<p><code>normalize_percentages()</code> returns formatted percentage value on the basis of locale since every language has different standards for writing percentage and decimal values.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Arguments"
>Arguments</a></h3>

<p>Two scalar variables text and locale are passed as arguments. Locale is two letter language code (ur for Urdu, de for German, en for English, etc)</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Return_values"
>Return values</a></h3>

<p>The function returns a scalar variable that is the result of concatenation of regex, percentage formatting on locale basis. If text (scalar variable passed as argument) is not defined or percent sign is not found, the function simply returns the scalar variable text(passed as argument) for performance reasons.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_decimal_formatter(_LOCALE_)"
>get_decimal_formatter( LOCALE )</a></h2>

<p><code>get_decimal_formatter()</code> formats decimal numbers. It can parse and format decimal numbers in any locale. The formatting is locale sensitive. This function allows to control the display of leading and trailing zeros, grouping separators, and the decimal separator. Different languages can have different representation for decimal sign. The decimal sign could be a &#39;.&#39; (most languages), or it could be a &#39;,&#39; (de - DECIMAL POINT IS COMMA ;-)</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Arguments"
>Arguments</a></h3>

<p>A scalar variable locale is passed as argument. Locale is two letter language code (ur for Urdu, de for German, en for English, etc)</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Return_values"
>Return values</a></h3>

<p>The function returns a scalar variable that is formatted on the basis of locale.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="escape_char(_$s,_$char_)"
>escape_char( $s, $char )</a></h2>

<p>Escape character $char in string $s</p>

<p>This is use in templates to say escape single quote or double quote for expressions displayed with single/double quotes (in json or HTML for example)</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="escape_single_quote_and_newlines(_$s_)"
>escape_single_quote_and_newlines( $s )</a></h2>

<p>Escape single quotes in $s but also transform newlines to spaces</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_percent_formatter(_LOCALE,_MAXIMUM_FRACTION_DIGITS_)"
>get_percent_formatter( LOCALE, MAXIMUM_FRACTION_DIGITS )</a></h2>

<p><code>get_percent_formatter()</code> formats percentages according to locale. The formatting is locale sensitive.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Arguments"
>Arguments</a></h3>

<p>A scalar variable locale and maximum_fraction_digits are passed as argument. Locale is two letter language code (ur for Urdu, de for German, en for English, etc) maximum_fraction_digits sets the maximum number of digits allowed in the fraction portion of a number.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Return_values"
>Return values</a></h3>

<p>The function returns a scalar variable of percentage value that is formatted by a locale-specific formatter.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
