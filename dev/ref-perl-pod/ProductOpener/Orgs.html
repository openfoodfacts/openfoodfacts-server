<html><head><title>ProductOpener::Orgs</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="simple.min" type="text/css" href="../simple.min.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.42,
  using Pod::Simple::PullParser v3.42,
  under Perl v5.034000 at Fri Oct 27 08:23:17 2023 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#DATA'>DATA</a>
  <li class='indexItem indexItem1'><a href='#FUNCTIONS'>FUNCTIONS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#retrieve_org_(_%24org_id_%2F_%24org_name_)'>retrieve_org ( $org_id / $org_name )</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Arguments'>Arguments</a>
      <ul   class='indexList indexList4'>
        <li class='indexItem indexItem4'><a href='#%24org_id_%2F_%24org_name'>$org_id / $org_name</a>
      </ul>
      <li class='indexItem indexItem3'><a href='#Return_values'>Return values</a>
    </ul>
  </ul>
  <li class='indexItem indexItem1'><a href='#FUNCTIONS'>FUNCTIONS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#list_org_ids()'>list_org_ids()</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Return_values'>Return values</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#store_org_(_%24org_ref_)'>store_org ( $org_ref )</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Arguments'>Arguments</a>
      <ul   class='indexList indexList4'>
        <li class='indexItem indexItem4'><a href='#%24org_ref'>$org_ref</a>
      </ul>
      <li class='indexItem indexItem3'><a href='#Return_values'>Return values</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#create_org_(_%24creator%2C_%24org_id_%2F_%24org_name%2C_%24org_ref_)'>create_org ( $creator, $org_id / $org_name, $org_ref )</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Arguments'>Arguments</a>
      <ul   class='indexList indexList4'>
        <li class='indexItem indexItem4'><a href='#%24creator'>$creator</a>
        <li class='indexItem indexItem4'><a href='#%24org_id_%2F_%24org_name'>$org_id / $org_name</a>
        <li class='indexItem indexItem4'><a href='#boolean_%24validated'>boolean $validated</a>
      </ul>
      <li class='indexItem indexItem3'><a href='#Return_values'>Return values</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#retrieve_or_create_org_(_%24creator%2C_%24org_id_%2F_%24org_name%2C_%24org_ref_)'>retrieve_or_create_org ( $creator, $org_id / $org_name, $org_ref )</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Arguments'>Arguments</a>
      <ul   class='indexList indexList4'>
        <li class='indexItem indexItem4'><a href='#%24creator'>$creator</a>
        <li class='indexItem indexItem4'><a href='#%24org_id_%2F_%24org_name'>$org_id / $org_name</a>
      </ul>
      <li class='indexItem indexItem3'><a href='#Return_values'>Return values</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#set_org_gs1_gln_(_%24org_ref%2C_%24list_of_gs1_gln_)'>set_org_gs1_gln ( $org_ref, $list_of_gs1_gln )</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Arguments'>Arguments</a>
      <ul   class='indexList indexList4'>
        <li class='indexItem indexItem4'><a href='#%24creator'>$creator</a>
        <li class='indexItem indexItem4'><a href='#%24org_id_%2F_%24org_name'>$org_id / $org_name</a>
      </ul>
      <li class='indexItem indexItem3'><a href='#Return_values'>Return values</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#add_user_to_org_(_%24org_id_%2F_%24org_ref%2C_%24user_id%2C_%24groups_ref_)'>add_user_to_org ( $org_id / $org_ref, $user_id, $groups_ref )</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Arguments'>Arguments</a>
      <ul   class='indexList indexList4'>
        <li class='indexItem indexItem4'><a href='#%24org_id_%2F_%24org_ref'>$org_id / $org_ref</a>
        <li class='indexItem indexItem4'><a href='#%24user_id'>$user_id</a>
        <li class='indexItem indexItem4'><a href='#%24groups_ref'>$groups_ref</a>
      </ul>
    </ul>
    <li class='indexItem indexItem2'><a href='#remove_user_from_org_(_%24org_id_%2F_%24org_ref%2C_%24user_id%2C_%24groups_ref_)'>remove_user_from_org ( $org_id / $org_ref, $user_id, $groups_ref )</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Arguments'>Arguments</a>
      <ul   class='indexList indexList4'>
        <li class='indexItem indexItem4'><a href='#%24org_id_%2F_%24org_ref'>$org_id / $org_ref</a>
        <li class='indexItem indexItem4'><a href='#%24user_id'>$user_id</a>
        <li class='indexItem indexItem4'><a href='#%24groups_ref'>$groups_ref</a>
      </ul>
    </ul>
  </ul>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>ProductOpener::Orgs - manages organizations</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<p><code>ProductOpener::Orgs</code> contains functions to create and edit organization profiles.</p>

<pre>    use ProductOpener::Orgs qw/:all/;

        [..]</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>[..]</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DATA"
>DATA</a></h1>

<p>Organization profile data is kept in files in the $data_root/orgs directory. If it does not exist yet, the directory is created when the module is initialized.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="FUNCTIONS"
>FUNCTIONS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="retrieve_org_(_$org_id_/_$org_name_)"
>retrieve_org ( $org_id / $org_name )</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Arguments"
>Arguments</a></h3>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="$org_id_/_$org_name"
>$org_id / $org_name</a></h4>

<p>Identifier for the org (without the &#34;org-&#34; prefix) or org name.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Return_values"
>Return values</a></h3>

<p>This function returns a hash ref for the org, or undef if the org does not exist.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="FUNCTIONS"
>FUNCTIONS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="list_org_ids()"
>list_org_ids()</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Return_values"
>Return values</a></h3>

<p>This function returns an array of all existing org ids</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="store_org_(_$org_ref_)"
>store_org ( $org_ref )</a></h2>

<p>Save changes to an org</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Arguments"
>Arguments</a></h3>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="$org_ref"
>$org_ref</a></h4>

<p>Hash ref for the org object.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Return_values"
>Return values</a></h3>

<p>None</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="create_org_(_$creator,_$org_id_/_$org_name,_$org_ref_)"
>create_org ( $creator, $org_id / $org_name, $org_ref )</a></h2>

<p>Creates a new org.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Arguments"
>Arguments</a></h3>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="$creator"
>$creator</a></h4>

<p>User id of the user creating the org (it can be the first user of the org, or an admin that creates an org by assigning an user to it).</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="$org_id_/_$org_name"
>$org_id / $org_name</a></h4>

<p>Identifier for the org (without the &#34;org-&#34; prefix), or org name.</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="boolean_$validated"
>boolean $validated</a></h4>

<p>Indicate if the org should be considered validated</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Return_values"
>Return values</a></h3>

<p>This function returns a hash ref for the org.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="retrieve_or_create_org_(_$creator,_$org_id_/_$org_name,_$org_ref_)"
>retrieve_or_create_org ( $creator, $org_id / $org_name, $org_ref )</a></h2>

<p>If the org exists, the function returns the org object. Otherwise it creates a new org.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Arguments"
>Arguments</a></h3>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="$creator"
>$creator</a></h4>

<p>User id of the user creating the org (it can be the first user of the org, or an admin that creates an org by assigning an user to it).</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="$org_id_/_$org_name"
>$org_id / $org_name</a></h4>

<p>Identifier for the org (without the &#34;org-&#34; prefix), or org name.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Return_values"
>Return values</a></h3>

<p>This function returns a hash ref for the org.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="set_org_gs1_gln_(_$org_ref,_$list_of_gs1_gln_)"
>set_org_gs1_gln ( $org_ref, $list_of_gs1_gln )</a></h2>

<p>If the org exists, the function returns the org object. Otherwise it creates a new org.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Arguments"
>Arguments</a></h3>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="$creator"
>$creator</a></h4>

<p>User id of the user creating the org (it can be the first user of the org, or an admin that creates an org by assigning an user to it).</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="$org_id_/_$org_name"
>$org_id / $org_name</a></h4>

<p>Identifier for the org (without the &#34;org-&#34; prefix), or org name.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Return_values"
>Return values</a></h3>

<p>This function returns a hash ref for the org.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_user_to_org_(_$org_id_/_$org_ref,_$user_id,_$groups_ref_)"
>add_user_to_org ( $org_id / $org_ref, $user_id, $groups_ref )</a></h2>

<p>Add the user to the specified groups of an organization.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Arguments"
>Arguments</a></h3>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="$org_id_/_$org_ref"
>$org_id / $org_ref</a></h4>

<p>Org id or org object.</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="$user_id"
>$user_id</a></h4>

<p>User id.</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="$groups_ref"
>$groups_ref</a></h4>

<p>Reference to an array of group ids (e.g. [&#34;admins&#34;, &#34;members&#34;])</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="remove_user_from_org_(_$org_id_/_$org_ref,_$user_id,_$groups_ref_)"
>remove_user_from_org ( $org_id / $org_ref, $user_id, $groups_ref )</a></h2>

<p>Remove the user from the specified groups of an organization.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Arguments"
>Arguments</a></h3>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="$org_id_/_$org_ref"
>$org_id / $org_ref</a></h4>

<p>Org id or org object.</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="$user_id"
>$user_id</a></h4>

<p>User id.</p>

<h4><a class='u' href='#___top' title='click to go to top of document'
name="$groups_ref"
>$groups_ref</a></h4>

<p>Reference to an array of group ids (e.g. [&#34;admins&#34;, &#34;members&#34;])</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
