{
    "parent_panel_id": "ecoscore",
    "type" : "score",
    "level" :"info",
    "topics": [
        "environment"
    ],
    [% IF product.ecoscore_data.adjustments.packaging.value <= -15 %]
    "plus_or_minus": "minus",
    "title": "[% lang('ecoscore_packaging_impact_high') %]",
    [% ELSIF product.ecoscore_data.adjustments.packaging.value <= -5 %]
    "plus_or_minus": "neutral",
    "title": "[% lang('ecoscore_packaging_impact_medium') %]",    
    [% ELSE %]
    "plus_or_minus": "plus",
    "title": "[% lang('ecoscore_packaging_impact_low') %]",      
    [% END %]
    "elements": [
        {
            "element_type": "text",
            "element": {
                "text_type": "summary",
                "html": `
                    <p>[give more details here]</p> 
                    `
            }
        },
        [% IF product.ecoscore_data.adjustments.packaging.packagings && product.ecoscore_data.adjustments.packaging.packagings.size %]
        {
            "element_type": "table",
            "element": {
                "table_id": "ecoscore_packaging_components",
                "table_type": "table",
                "title": "[% lang('packaging_parts') %]",
                "headers": [
                    { "text": "[% lang('packaging_shape') %]"},
                    { "text": "[% lang('packaging_material') %]"},
                    { "text": "[% lang('packaging_recycling') %]"},
                    { "text": "[% lang('ecoscore_impact') %]"}
                ],
                "rows": [
                    [% FOREACH packaging IN product.ecoscore_data.adjustments.packaging.packagings %]
                    [% score = packaging.ecoscore_material_score * packaging.ecoscore_shape_ratio %]
                    {
                        "values": [
                            {
                                "text": "[% IF packaging.number %][% packaging.number %] [% END %][% display_taxonomy_tag('packaging_shapes',packaging.shape) %][% IF packaging.quantity %] ([% packaging.quantity %])[% END %]"
                            },
                            {
                                "text": "[% display_taxonomy_tag('packaging_materials',packaging.material) %]"
                            },
                            {
                                "text": "[% display_taxonomy_tag('packaging_recycling',packaging.recycling) %]"
                            },
                            {
                            [% IF score >= 75 %]
                                "text": "[% lang('low') FILTER ucfirst %]",
                                "color": "green"
                            [% ELSIF score <= 25 %]
                                "text": "[% lang('high') FILTER ucfirst %]",
                                "color": "red"
                            [% ELSE %]
                                "text": "[% lang('medium') FILTER ucfirst %]",
                                "color": "orange"
                            [% END %]
                            }
                        ]
                    },
                    [% END %]
                ]
            }
        }
        [% END %]         
    ]
}
